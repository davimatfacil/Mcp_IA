<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Context Protocol (MCP) - Sistema Completo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: #2d3748;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            padding: 40px 0;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }
        
        .audience-toggle {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .toggle-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        .toggle-btn.active {
            background: white;
            color: #667eea;
            border-color: white;
        }
        
        .content-section {
            display: none;
        }
        
        .content-section.active {
            display: block;
        }
        
        .content-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .section-title {
            font-size: 2.2rem;
            font-weight: 700;
            color: #4a5568;
            margin-bottom: 25px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 15px;
        }
        
        .analogy-box {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 30px;
            border-radius: 15px;
            border-left: 5px solid #f6ad55;
            margin: 25px 0;
        }
        
        .technical-box {
            background: linear-gradient(135deg, #e0f2fe 0%, #b3e5fc 100%);
            padding: 30px;
            border-radius: 15px;
            border-left: 5px solid #29b6f6;
            margin: 25px 0;
        }
        
        .diagram {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            text-align: center;
        }
        
        .flow-container {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
        }
        
        .flow-step {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            min-width: 120px;
            text-align: center;
        }
        
        .arrow {
            font-size: 2rem;
            color: #667eea;
            margin: 0 10px;
        }
        
        .components-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }
        
        .component-card {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border: 2px solid rgba(255,255,255,0.3);
            transition: transform 0.3s ease;
        }
        
        .component-card:hover {
            transform: translateY(-5px);
        }
        
        .component-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 15px;
        }
        
        .capabilities-showcase {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .capability-card {
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            color: white;
            font-weight: 600;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .tools-card {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
        }
        
        .resources-card {
            background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);
        }
        
        .prompts-card {
            background: linear-gradient(135deg, #a55eea 0%, #8b46ff 100%);
        }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Fira Code', monospace;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid #4299e1;
        }
        
        .timeline {
            position: relative;
            padding: 20px 0;
        }
        
        .timeline-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #667eea;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .comparison-table {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            margin: 25px 0;
        }
        
        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .comparison-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .comparison-table td {
            padding: 15px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .comparison-table tr:nth-child(even) {
            background: #f7fafc;
        }
        
        .real-world-examples {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            border: 2px solid #e9ecef;
        }
        
        .example-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #28a745;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .benefit-item {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(116, 185, 255, 0.3);
        }
        
        .interactive-demo {
            background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            text-align: center;
        }
        
        .highlight {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
            padding: 3px 8px;
            border-radius: 5px;
            font-weight: 600;
            color: #2d3748;
        }
        
        .icon {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .container {
                padding: 10px;
            }
            
            .content-card {
                padding: 20px;
            }
            
            .audience-toggle {
                flex-direction: column;
                align-items: center;
            }
            
            .flow-container {
                flex-direction: column;
            }
            
            .arrow {
                transform: rotate(90deg);
            }
        }
        
        .floating-icon {
            position: absolute;
            width: 60px;
            height: 60px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🔗 Model Context Protocol</h1>
            <p class="subtitle">O sistema que conecta IA ao mundo real de forma inteligente</p>
            
            <div class="audience-toggle">
                <button class="toggle-btn active" onclick="showContent('business')">
                    👔 Versão Executiva
                </button>
                <button class="toggle-btn" onclick="showContent('technical')">
                    💻 Versão Técnica
                </button>
            </div>
        </div>

        <!-- VERSÃO PARA EXECUTIVOS/NÃO TÉCNICOS -->
        <div id="business" class="content-section active">
            
            <div class="content-card">
                <h2 class="section-title">🌍 O Problema que Vivemos Hoje</h2>
                
                <div class="analogy-box">
                    <h3>🏢 Imagine sua empresa como um prédio corporativo</h3>
                    <p><strong>Situação atual:</strong> Você tem o melhor assistente pessoal do mundo (IA), mas ele está preso no seu escritório. Ele não consegue:</p>
                    <ul style="margin: 15px 0; padding-left: 20px;">
                        <li>📧 Acessar seus emails no Gmail</li>
                        <li>📊 Consultar dados do seu CRM</li>
                        <li>📄 Ler documentos do Google Drive</li>
                        <li>💬 Enviar mensagens no WhatsApp</li>
                        <li>📈 Gerar relatórios do sistema de vendas</li>
                    </ul>
                    <p><strong>Resultado:</strong> Seu assistente, mesmo sendo inteligente, só pode dar respostas genéricas porque não tem acesso às informações específicas da sua empresa.</p>
                </div>

                <div class="diagram">
                    <h3>🚧 O Problema do Isolamento</h3>
                    <div class="flow-container">
                        <div class="flow-step">🤖 IA Poderosa</div>
                        <span class="arrow">❌</span>
                        <div class="flow-step">💼 Seus Dados</div>
                        <span class="arrow">❌</span>
                        <div class="flow-step">🛠️ Suas Ferramentas</div>
                    </div>
                    <p style="color: #e53e3e; font-weight: 600; margin-top: 20px;">❌ Cada conexão precisa ser feita manualmente</p>
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">🎯 A Solução: MCP como Tradutor Universal</h2>
                
                <div class="analogy-box">
                    <h3>🌐 Analogia do Tradutor Universal</h3>
                    <p><strong>Imagine que você precisa se comunicar com:</strong></p>
                    <ul style="margin: 15px 0; padding-left: 20px;">
                        <li>🇫🇷 Um francês (seus emails)</li>
                        <li>🇩🇪 Um alemão (seu CRM)</li>
                        <li>🇯🇵 Um japonês (seu sistema financeiro)</li>
                        <li>🇪🇸 Um espanhol (suas planilhas)</li>
                    </ul>
                    
                    <div style="margin: 20px 0; padding: 20px; background: rgba(255,255,255,0.3); border-radius: 10px;">
                        <p><strong>🔄 O MCP é seu tradutor universal!</strong></p>
                        <p>✅ Você fala português com a IA<br>
                        ✅ A IA "fala MCP" com todos os sistemas<br>
                        ✅ Todos os sistemas "respondem MCP"<br>
                        ✅ Você recebe tudo traduzido em português</p>
                    </div>
                </div>

                <div class="diagram">
                    <h3>✅ Com MCP: Conexão Universal</h3>
                    <div class="flow-container">
                        <div class="flow-step">👤 Você</div>
                        <span class="arrow">→</span>
                        <div class="flow-step">🤖 IA</div>
                        <span class="arrow">→</span>
                        <div class="flow-step">🔗 MCP</div>
                        <span class="arrow">→</span>
                        <div class="flow-step">🌐 Tudo</div>
                    </div>
                    <p style="color: #38a169; font-weight: 600; margin-top: 20px;">✅ Uma conexão padrão para tudo</p>
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">🏗️ Como o MCP Funciona na Prática</h2>
                
                <div class="components-grid">
                    <div class="component-card">
                        <span class="icon">🏢</span>
                        <div class="component-title">Host (Aplicação)</div>
                        <p>O "escritório" onde a IA trabalha. Pode ser Claude Desktop, ChatGPT, ou sua aplicação customizada</p>
                    </div>
                    
                    <div class="component-card">
                        <span class="icon">📱</span>
                        <div class="component-title">Client (Mensageiro)</div>
                        <p>O "secretário" que carrega mensagens entre a IA e os sistemas externos</p>
                    </div>
                    
                    <div class="component-card">
                        <span class="icon">🏪</span>
                        <div class="component-title">Server (Loja de Serviços)</div>
                        <p>A "loja" que oferece acesso aos seus dados e ferramentas de forma organizada</p>
                    </div>
                </div>

                <div class="interactive-demo">
                    <h3>🎮 Exemplo Prático: "Envie um relatório de vendas"</h3>
                    <div style="margin: 20px 0;">
                        <div class="flow-step">👤 Você pede</div>
                        <span class="arrow">→</span>
                        <div class="flow-step">🤖 IA entende</div>
                        <span class="arrow">→</span>
                        <div class="flow-step">📊 Busca dados</div>
                        <span class="arrow">→</span>
                        <div class="flow-step">📧 Envia email</div>
                    </div>
                    <p>Tudo automático, seguro e rastreável!</p>
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">🎯 Os 3 Tipos de Serviços do MCP</h2>
                
                <div class="capabilities-showcase">
                    <div class="capability-card tools-card">
                        <span class="icon">🛠️</span>
                        <h3>TOOLS (Ferramentas)</h3>
                        <p><strong>O que fazem:</strong> Ações que a IA executa</p>
                        <p><strong>Exemplos:</strong></p>
                        <ul style="text-align: left; margin: 10px 0;">
                            <li>Enviar emails</li>
                            <li>Gerar relatórios</li>
                            <li>Criar documentos</li>
                            <li>Fazer cálculos</li>
                        </ul>
                        <p><strong>Controle:</strong> A IA decide quando usar</p>
                    </div>
                    
                    <div class="capability-card resources-card">
                        <span class="icon">📚</span>
                        <h3>RESOURCES (Dados)</h3>
                        <p><strong>O que fazem:</strong> Informações que a IA consulta</p>
                        <p><strong>Exemplos:</strong></p>
                        <ul style="text-align: left; margin: 10px 0;">
                            <li>Arquivos Excel</li>
                            <li>Documentos PDF</li>
                            <li>Banco de dados</li>
                            <li>Manual da empresa</li>
                        </ul>
                        <p><strong>Controle:</strong> Sua empresa decide o que mostrar</p>
                    </div>
                    
                    <div class="capability-card prompts-card">
                        <span class="icon">📝</span>
                        <h3>PROMPTS (Modelos)</h3>
                        <p><strong>O que fazem:</strong> Receitas prontas para tarefas</p>
                        <p><strong>Exemplos:</strong></p>
                        <ul style="text-align: left; margin: 10px 0;">
                            <li>Modelo de análise</li>
                            <li>Template de email</li>
                            <li>Roteiro de reunião</li>
                            <li>Processo de vendas</li>
                        </ul>
                        <p><strong>Controle:</strong> Você escolhe qual usar</p>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">💼 Casos de Uso Reais</h2>
                
                <div class="real-world-examples">
                    <h3>🏆 Exemplos de Sucesso</h3>
                    
                    <div class="example-item">
                        <strong>🏪 E-commerce:</strong> "IA, analise as vendas de hoje e envie relatório por WhatsApp"<br>
                        <small>✅ IA acessa dados de venda + envia mensagem automaticamente</small>
                    </div>
                    
                    <div class="example-item">
                        <strong>👩‍⚕️ Clínica Médica:</strong> "IA, resume os exames do paciente João e agende retorno"<br>
                        <small>✅ IA lê prontuários + agenda consulta no sistema</small>
                    </div>
                    
                    <div class="example-item">
                        <strong>🏦 Banco:</strong> "IA, analise o perfil de crédito e sugira produtos"<br>
                        <small>✅ IA consulta histórico + recomenda produtos específicos</small>
                    </div>
                    
                    <div class="example-item">
                        <strong>🎓 Escola:</strong> "IA, gere boletim personalizado para os pais"<br>
                        <small>✅ IA acessa notas + cria relatório + envia por email</small>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">🚀 Benefícios para seu Negócio</h2>
                
                <div class="benefits-grid">
                    <div class="benefit-item">
                        <span class="icon">💰</span>
                        <h3>Redução de Custos</h3>
                        <p>Menos desenvolvimento manual, mais automação</p>
                    </div>
                    
                    <div class="benefit-item">
                        <span class="icon">⚡</span>
                        <h3>Aumento de Produtividade</h3>
                        <p>Tarefas que levavam horas agora levam minutos</p>
                    </div>
                    
                    <div class="benefit-item">
                        <span class="icon">🛡️</span>
                        <h3>Segurança</h3>
                        <p>Controle total sobre que dados a IA pode acessar</p>
                    </div>
                    
                    <div class="benefit-item">
                        <span class="icon">📈</span>
                        <h3>Escalabilidade</h3>
                        <p>Adicione novos sistemas sem reescrever código</p>
                    </div>
                    
                    <div class="benefit-item">
                        <span class="icon">🔄</span>
                        <h3>Flexibilidade</h3>
                        <p>Troque de IA (Claude → ChatGPT) sem perder integrações</p>
                    </div>
                    
                    <div class="benefit-item">
                        <span class="icon">📊</span>
                        <h3>Visibilidade</h3>
                        <p>Relatórios completos de tudo que a IA fez</p>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">🎯 ROI e Impacto no Negócio</h2>
                
                <div class="comparison-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Métrica</th>
                                <th>Antes do MCP</th>
                                <th>Com MCP</th>
                                <th>Impacto</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Tempo de Integração</strong></td>
                                <td>2-6 meses por sistema</td>
                                <td>1-2 semanas</td>
                                <td class="highlight">90% mais rápido</td>
                            </tr>
                            <tr>
                                <td><strong>Custo de Desenvolvimento</strong></td>
                                <td>R$ 50.000-200.000</td>
                                <td>R$ 5.000-20.000</td>
                                <td class="highlight">Até 90% menor</td>
                            </tr>
                            <tr>
                                <td><strong>Manutenção</strong></td>
                                <td>Alto (código customizado)</td>
                                <td>Baixo (protocolo padrão)</td>
                                <td class="highlight">70% menos esforço</td>
                            </tr>
                            <tr>
                                <td><strong>Produtividade da Equipe</strong></td>
                                <td>Baseline</td>
                                <td>+200-500%</td>
                                <td class="highlight">Multiplicador</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- VERSÃO TÉCNICA -->
        <div id="technical" class="content-section">
            
            <div class="content-card">
                <h2 class="section-title">🏗️ Arquitetura do Sistema MCP</h2>
                
                <div class="technical-box">
                    <h3>🔧 Componentes Principais</h3>
                    <p><strong>MCP Host:</strong> Aplicação que contém o modelo de linguagem (Claude Desktop, ChatGPT, aplicação customizada)</p>
                    <p><strong>MCP Client:</strong> Componente que gerencia comunicação protocolar com servers (1:1 connection)</p>
                    <p><strong>MCP Server:</strong> Programa que expõe capabilities via protocolo padronizado</p>
                </div>

                <div class="diagram">
                    <h3>🔄 Fluxo de Comunicação</h3>
                    <div class="flow-container">
                        <div class="flow-step">Host App</div>
                        <span class="arrow">↔</span>
                        <div class="flow-step">MCP Client</div>
                        <span class="arrow">↔</span>
                        <div class="flow-step">MCP Server</div>
                        <span class="arrow">↔</span>
                        <div class="flow-step">External Systems</div>
                    </div>
                </div>

                <div class="code-block">
# Exemplo de MCP Server básico
from fastmcp import FastMCP

# Inicializar servidor
mcp = FastMCP("example-server")

# Registrar tool
@mcp.tool()
def get_weather(location: str) -> dict:
    """Busca informações meteorológicas"""
    return {"temp": 22, "condition": "sunny"}

# Registrar resource
@mcp.resource("file://config")
def config_data() -> str:
    """Retorna dados de configuração"""
    return open("config.json").read()

# Registrar prompt
@mcp.prompt()
def analyze_data(dataset: str) -> str:
    """Template para análise de dados"""
    return f"Analise o dataset {dataset} e gere insights"

# Executar servidor
if __name__ == "__main__":
    mcp.run(transport='stdio')  # ou 'sse' para HTTP
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">🎯 Capabilities: Tools, Resources e Prompts</h2>
                
                <div class="technical-box">
                    <h3>🛠️ Tools (Model-Controlled)</h3>
                    <p><strong>Paradigma:</strong> LLM decide quando executar baseado em context e user intent</p>
                    <p><strong>Implementação:</strong> Funções Python decoradas com @mcp.tool()</p>
                    <p><strong>Fluxo:</strong> LLM analysis → Tool selection → User permission → Execution</p>
                    <p><strong>Side Effects:</strong> Sim (write operations, API calls, file modifications)</p>
                </div>

                <div class="code-block">
# Tool Implementation Example
@mcp.tool()
def send_email(recipient: str, subject: str, body: str) -> str:
    """Envia email via SMTP"""
    try:
        # SMTP implementation
        smtp_client.send(recipient, subject, body)
        return "Email sent successfully"
    except Exception as e:
        return f"Error: {str(e)}"
                </div>

                <div class="technical-box">
                    <h3>📚 Resources (Application-Controlled)</h3>
                    <p><strong>Paradigma:</strong> Host application gerencia fetch e context injection</p>
                    <p><strong>URI Scheme:</strong> protocol://path/to/resource (RFC 6570 templates)</p>
                    <p><strong>Types:</strong> Text (UTF-8) e Binary (Base64)</p>
                    <p><strong>Side Effects:</strong> Não (read-only access)</p>
                    <p><strong>Discovery:</strong> Direct resources + Resource templates</p>
                </div>

                <div class="code-block">
# Resource Implementation Examples
@mcp.resource("file://{path}")
def file_content(path: str) -> str:
    """Acesso dinâmico a arquivos"""
    return open(path, 'r').read()

@mcp.resource("api://cache/weather")
def cached_weather() -> str:
    """Dados meteorológicos em cache"""
    return json.dumps(weather_cache)

@mcp.resource("db://snapshot/users")
def user_snapshot() -> bytes:
    """Snapshot read-only do banco"""
    return db.export_snapshot().encode()
                </div>

                <div class="technical-box">
                    <h3>💬 Prompts (User-Controlled)</h3>
                    <p><strong>Paradigma:</strong> User-selected templates para workflows reutilizáveis</p>
                    <p><strong>Parametrização:</strong> Arguments com types e validation</p>
                    <p><strong>Composição:</strong> Podem combinar tools e resources</p>
                    <p><strong>Extensibilidade:</strong> Templates modulares e chain-able</p>
                </div>

                <div class="code-block">
# Prompt Implementation Example
@mcp.prompt()
def code_review(repository: str, pull_request: str) -> str:
    """Template para code review automatizado"""
    return f"""
    Analise o PR #{pull_request} no repositório {repository}:
    
    1. Verifique padrões de código
    2. Identifique possíveis bugs
    3. Sugira melhorias de performance
    4. Valide documentação
    
    Use as tools: static_analyzer, security_checker
    Use os resources: file://{repository}/* e coding_standards.md
    """
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">🔄 Protocolos de Transporte</h2>
                
                <div class="comparison-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Transport</th>
                                <th>Uso</th>
                                <th>Pros</th>
                                <th>Cons</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>stdio</strong></td>
                                <td>Local development, Claude Desktop</td>
                                <td>Low latency, simples, sem network</td>
                                <td>Apenas local, process-bound</td>
                            </tr>
                            <tr>
                                <td><strong>sse (HTTP SSE)</strong></td>
                                <td>Remote servers, cloud deployment</td>
                                <td>Scalable, network accessible</td>
                                <td>Network overhead, mais complexo</td>
                            </tr>
                            <tr>
                                <td><strong>WebSocket</strong></td>
                                <td>Bi-directional real-time</td>
                                <td>Full duplex, low latency</td>
                                <td>Connection management</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="code-block">
# Transport Configuration Examples

# stdio (local)
mcp.run(transport='stdio')

# SSE (remote HTTP)
mcp.run(transport='sse', port=8000)

# WebSocket (bi-directional)
mcp.run(transport='websocket', host='0.0.0.0', port=8080)
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">🔐 Segurança e Autenticação</h2>
                
                <div class="technical-box">
                    <h3>🛡️ Camadas de Segurança</h3>
                    <p><strong>API Key Authentication:</strong> bcrypt + salt para hash seguro</p>
                    <p><strong>User Permissions:</strong> Explicit approval para tool execution</p>
                    <p><strong>Application Control:</strong> Host gerencia resource access</p>
                    <p><strong>Audit Trail:</strong> Logging completo de todas operações</p>
                </div>

                <div class="code-block">
# Security Implementation Example
import bcrypt
import secrets

class APIKeyController:
    def generate_key(self, user_id: str) -> tuple:
        """Gera API key segura"""
        secret = secrets.token_urlsafe(32)
        salt = bcrypt.gensalt()
        hashed = bcrypt.hashpw(secret.encode(), salt)
        
        api_key = f"sk-{user_id}-{secret}"
        masked_key = self._mask_key(api_key)
        
        return api_key, hashed, masked_key
    
    def validate_key(self, api_key: str) -> bool:
        """Valida API key contra hash armazenado"""
        user_id, secret = self._extract_parts(api_key)
        stored_hash = self.db.get_hash(user_id)
        
        return bcrypt.checkpw(secret.encode(), stored_hash)

# Usage in MCP tool
@mcp.tool()
def sensitive_operation(data: str) -> str:
    if not verify_api_key():
        raise Exception("API Key inválida")
    
    # Execute operation
    return process_sensitive_data(data)
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">🏭 Implementação de Cliente MCP</h2>
                
                <div class="technical-box">
                    <h3>🔧 Client Architecture</h3>
                    <p><strong>Connection Management:</strong> 1:1 client-server relationship</p>
                    <p><strong>Capability Discovery:</strong> Dynamic tool/resource/prompt enumeration</p>
                    <p><strong>LLM Integration:</strong> Tool selection e context injection</p>
                    <p><strong>Error Handling:</strong> Graceful degradation e retry logic</p>
                </div>

                <div class="code-block">
# Complete MCP Client Implementation
import asyncio
from mcp import ClientSession, StdioServerParameters
from mcp.client.stdio import stdio_client

class CustomMCPClient:
    def __init__(self, server_command: str, server_args: list):
        self.server_params = StdioServerParameters(
            command=server_command,
            args=server_args
        )
        self.session = None
        self.capabilities = {
            'tools': [],
            'resources': [],
            'prompts': []
        }
    
    async def connect(self):
        """Estabelece conexão e descobre capabilities"""
        self.stdio_client = stdio_client(self.server_params)
        self.read_stream, self.write_stream = await self.stdio_client.__aenter__()
        
        self.session = ClientSession(self.read_stream, self.write_stream)
        await self.session.__aenter__()
        await self.session.initialize()
        
        # Descoberta dinâmica
        await self._discover_capabilities()
    
    async def _discover_capabilities(self):
        """Descobre todas as capabilities disponíveis"""
        # Tools
        tools_result = await self.session.list_tools()
        self.capabilities['tools'] = [
            {
                'name': tool.name,
                'description': tool.description,
                'input_schema': tool.inputSchema
            }
            for tool in tools_result.tools
        ]
        
        # Resources
        resources_result = await self.session.list_resources()
        self.capabilities['resources'] = [
            {
                'uri': resource.uri,
                'name': resource.name,
                'mime_type': resource.mimeType
            }
            for resource in resources_result.resources
        ]
        
        # Prompts
        prompts_result = await self.session.list_prompts()
        self.capabilities['prompts'] = [
            {
                'name': prompt.name,
                'description': prompt.description,
                'arguments': prompt.arguments
            }
            for prompt in prompts_result.prompts
        ]
    
    async def execute_tool(self, tool_name: str, arguments: dict):
        """Executa tool específica"""
        try:
            result = await self.session.call_tool(tool_name, arguments)
            return {
                'success': True,
                'content': result.content[0].text if result.content else None
            }
        except Exception as e:
            return {
                'success': False,
                'error': str(e)
            }
    
    async def get_resource(self, uri: str):
        """Obtém conteúdo de resource"""
        try:
            result = await self.session.read_resource(uri)
            return {
                'success': True,
                'content': result.contents[0].text if result.contents else None,
                'mime_type': result.contents[0].mimeType if result.contents else None
            }
        except Exception as e:
            return {
                'success': False,
                'error': str(e)
            }
    
    async def use_prompt(self, prompt_name: str, arguments: dict):
        """Usa prompt template"""
        try:
            result = await self.session.get_prompt(prompt_name, arguments)
            return {
                'success': True,
                'messages': [
                    {
                        'role': msg.role,
                        'content': msg.content.text
                    }
                    for msg in result.messages
                ]
            }
        except Exception as e:
            return {
                'success': False,
                'error': str(e)
            }

# Usage example
async def main():
    client = CustomMCPClient("python", ["my_server.py"])
    await client.connect()
    
    # List available capabilities
    print("Tools:", client.capabilities['tools'])
    print("Resources:", client.capabilities['resources'])
    print("Prompts:", client.capabilities['prompts'])
    
    # Execute tool
    result = await client.execute_tool("get_weather", {"location": "São Paulo"})
    print("Tool result:", result)
    
    # Get resource
    resource = await client.get_resource("file://config.json")
    print("Resource:", resource)
    
    # Use prompt
    prompt_result = await client.use_prompt("analyze_data", {"dataset": "sales.csv"})
    print("Prompt:", prompt_result)

if __name__ == "__main__":
    asyncio.run(main())
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">🔄 Lifecycle Completo de uma Requisição</h2>
                
                <div class="timeline">
                    <div class="timeline-item">
                        <h3>1. 🚀 Inicialização</h3>
                        <p><strong>Host</strong> instancia <strong>MCP Client</strong> → Connect to <strong>MCP Server</strong> → Protocol handshake → Capability discovery</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h3>2. 🔍 Discovery</h3>
                        <p><strong>Client</strong> enumera tools/resources/prompts → <strong>Server</strong> retorna capabilities com schemas → <strong>Host</strong> registra disponibilidade</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h3>3. 💭 User Query</h3>
                        <p><strong>User</strong> envia query → <strong>Host</strong> analisa intent → <strong>LLM</strong> processa com capability context</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h3>4. 🎯 Capability Selection</h3>
                        <p><strong>LLM</strong> seleciona tools necessárias → <strong>Host</strong> fetch resources relevantes → <strong>User</strong> pode escolher prompts</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h3>5. 🛡️ Permission & Execution</h3>
                        <p><strong>User</strong> aprova tool usage → <strong>Client</strong> executa via <strong>Server</strong> → <strong>Server</strong> processa e retorna resultado</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h3>6. 📝 Response Assembly</h3>
                        <p><strong>Client</strong> coleta resultados → <strong>Host</strong> injeta em context → <strong>LLM</strong> gera resposta final → <strong>User</strong> recebe output</p>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">📊 Performance e Otimização</h2>
                
                <div class="technical-box">
                    <h3>⚡ Best Practices</h3>
                    <p><strong>Connection Pooling:</strong> Reutilizar connections para múltiplas operações</p>
                    <p><strong>Resource Caching:</strong> Cache inteligente de resources frequently accessed</p>
                    <p><strong>Capability Memoization:</strong> Cache capability discovery results</p>
                    <p><strong>Async Operations:</strong> Non-blocking I/O para all network operations</p>
                    <p><strong>Error Resilience:</strong> Circuit breaker pattern para failing servers</p>
                </div>

                <div class="code-block">
# Performance Optimization Example
class OptimizedMCPClient:
    def __init__(self):
        self._capability_cache = {}
        self._resource_cache = {}
        self._connection_pool = {}
    
    @lru_cache(maxsize=128)
    async def get_capabilities(self, server_id: str):
        """Cached capability discovery"""
        if server_id not in self._capability_cache:
            capabilities = await self._discover_capabilities(server_id)
            self._capability_cache[server_id] = capabilities
        
        return self._capability_cache[server_id]
    
    async def get_resource_cached(self, uri: str, ttl: int = 300):
        """Resource with TTL-based caching"""
        cache_key = f"{uri}:{int(time.time() // ttl)}"
        
        if cache_key not in self._resource_cache:
            result = await self.session.read_resource(uri)
            self._resource_cache[cache_key] = result
        
        return self._resource_cache[cache_key]
    
    async def execute_with_retry(self, operation, max_retries: int = 3):
        """Retry logic with exponential backoff"""
        for attempt in range(max_retries):
            try:
                return await operation()
            except Exception as e:
                if attempt == max_retries - 1:
                    raise e
                
                await asyncio.sleep(2 ** attempt)  # Exponential backoff
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">🚀 Deployment e Produção</h2>
                
                <div class="technical-box">
                    <h3>🏭 Production Deployment</h3>
                    <p><strong>Containerization:</strong> Docker containers para MCP servers</p>
                    <p><strong>Orchestration:</strong> Kubernetes para scaling e load balancing</p>
                    <p><strong>Monitoring:</strong> Prometheus + Grafana para metrics</p>
                    <p><strong>Logging:</strong> Structured logging com correlation IDs</p>
                    <p><strong>Health Checks:</strong> Readiness e liveness probes</p>
                </div>

                <div class="code-block">
# Dockerfile for MCP Server
FROM python:3.11-slim

WORKDIR /app

# Install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy application
COPY . .

# Health check
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
    CMD python -c "import requests; requests.get('http://localhost:8000/health')"

# Run server
EXPOSE 8000
CMD ["python", "server.py", "--transport", "sse", "--port", "8000"]
                </div>

                <div class="code-block">
# Kubernetes Deployment
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mcp-server
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mcp-server
  template:
    metadata:
      labels:
        app: mcp-server
    spec:
      containers:
      - name: mcp-server
        image: myregistry/mcp-server:latest
        ports:
        - containerPort: 8000
        env:
        - name: MCP_PORT
          value: "8000"
        - name: LOG_LEVEL
          value: "INFO"
        resources:
          requests:
            memory: "256Mi"
            cpu: "250m"
          limits:
            memory: "512Mi"
            cpu: "500m"
        livenessProbe:
          httpGet:
            path: /health
            port: 8000
          initialDelaySeconds: 30
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /ready
            port: 8000
          initialDelaySeconds: 5
          periodSeconds: 5
                </div>
            </div>

            <div class="content-card">
                <h2 class="section-title">🔮 Futuro e Extensões</h2>
                
                <div class="technical-box">
                    <h3>🚀 Próximas Evoluções</h3>
                    <p><strong>Sampling:</strong> MCP servers podem requisitar LLM operations</p>
                    <p><strong>Agent-to-Agent (A2A):</strong> Comunicação entre múltiplos agentes</p>
                    <p><strong>Federation:</strong> Descoberta automática de servers na rede</p>
                    <p><strong>GraphQL Integration:</strong> Query language para MCP resources</p>
                    <p><strong>Streaming:</strong> Real-time data streams via MCP</p>
                </div>

                <div class="code-block">
# Future: Sampling Capability
@mcp.sampling_handler()
async def request_completion(prompt: str, model: str = "claude-3-sonnet"):
    """Server can request LLM completion from client"""
    return {
        "messages": [{"role": "user", "content": prompt}],
        "model": model,
        "max_tokens": 1000
    }

# Future: A2A Communication
@mcp.agent_endpoint()
async def agent_collaboration(agent_id: str, task: str):
    """Enable agent-to-agent task delegation"""
    return await delegate_to_agent(agent_id, task)
                </div>
            </div>
        </div>

        <div class="content-card" style="text-align: center; margin-top: 40px;">
            <h2 class="section-title">🎯 Conclusão</h2>
            
            <div style="background: linear-gradient(135deg, #38a169 0%, #2f855a 100%); color: white; padding: 40px; border-radius: 20px; margin: 20px 0;">
                <h3 style="margin-bottom: 20px;">🚀 O MCP Transforma Como Pensamos sobre IA</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0;">
                    <div>
                        <strong>🔧 Para Desenvolvedores</strong><br>
                        <small>Protocolo padronizado elimina retrabalho</small>
                    </div>
                    <div>
                        <strong>👔 Para Empresas</strong><br>
                        <small>ROI comprovado e escalabilidade garantida</small>
                    </div>
                    <div>
                        <strong>🤖 Para IAs</strong><br>
                        <small>Acesso ao mundo real de forma segura</small>
                    </div>
                </div>
                <p style="font-size: 1.2rem; margin-top: 20px;">
                    <strong>O MCP não é apenas uma tecnologia – é o futuro da integração inteligente.</strong>
                </p>
            </div>
        </div>
    </div>

    <script>
        function showContent(audience) {
            // Hide all content sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected content
            document.getElementById(audience).classList.add('active');
            
            // Update button states
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
